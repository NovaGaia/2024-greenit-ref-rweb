---
import Seo from "@components/Seo.astro";
import PageView from "@components/pages/PageView.astro";
import { getMentionsLegalesByLang } from "@contentConfig";
import { code_languages } from "@i18n/ui";
import { getLangFromUrl, useTranslations } from "@i18n/utils";
import Base from "@layouts/Base.astro";

// Get specific content
const _lang = getLangFromUrl(Astro.url);
const { lang } = Astro.params;
const t = useTranslations(_lang);
const entry: any = await getMentionsLegalesByLang(lang);
// Use Astro Entry renderer
const { Content } = await entry.render();

// Generate i18n pages
export async function getStaticPaths() {
  return code_languages.map((lang) => {
    return { params: { lang } };
  });
}
---

<Base>
  <Seo title="<Mentions lÃ©gales>" slot="seo" />
  <PageView>
    <Content />
  </PageView>
</Base>
